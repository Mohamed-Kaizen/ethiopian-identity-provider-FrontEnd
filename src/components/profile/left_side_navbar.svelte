<script>
	export let segment
	import {goto} from "@sapper/app"
	import {fly} from "svelte/transition"
	import {_, locale} from "svelte-i18n"

	import {access_token, refresh_token, user} from "../../store"

	async function sign_out() {
		access_token.set(false)
		refresh_token.set(false)
		user.set(false)
		goto("/")
	}
</script>

<nav
	in:fly="{{x: $_('direction') === 'ltr' ? -200 : 200, duration: 1000}}"
	class="hidden lg:flex w-24 flex-col items-center bg-white dark:bg-gray-800
	py-4">

	<div>
		<!-- App Logo -->

		<svg
			class="h-8 w-8 fill-current text-red-600 dark:text-red-200"
			viewBox="0 0 480 512">
			<path
				fill="currentColor"
				d="M186.1 328.7c0 20.9-10.9 55.1-36.7 55.1s-36.7-34.2-36.7-55.1
				10.9-55.1 36.7-55.1 36.7 34.2 36.7 55.1zM480 278.2c0 31.9-3.2
				65.7-17.5 95-37.9 76.6-142.1 74.8-216.7 74.8-75.8 0-186.2
				2.7-225.6-74.8-14.6-29-20.2-63.1-20.2-95 0-41.9 13.9-81.5
				41.5-113.6-5.2-15.8-7.7-32.4-7.7-48.8 0-21.5 4.9-32.3 14.6-51.8
				45.3 0 74.3 9 108.8 36 29-6.9 58.8-10 88.7-10 27 0 54.2 2.9 80.4
				9.2 34-26.7 63-35.2 107.8-35.2 9.8 19.5 14.6 30.3 14.6 51.8 0
				16.4-2.6 32.7-7.7 48.2 27.5 32.4 39 72.3 39 114.2zm-64.3
				50.5c0-43.9-26.7-82.6-73.5-82.6-18.9 0-37 3.4-56 6-14.9 2.3-29.8
				3.2-45.1 3.2-15.2 0-30.1-.9-45.1-3.2-18.7-2.6-37-6-56-6-46.8
				0-73.5 38.7-73.5 82.6 0 87.8 80.4 101.3 150.4 101.3h48.2c70.3 0
				150.6-13.4 150.6-101.3zm-82.6-55.1c-25.8 0-36.7 34.2-36.7
				55.1s10.9 55.1 36.7 55.1 36.7-34.2 36.7-55.1-10.9-55.1-36.7-55.1z"></path>
		</svg>

	</div>

	<ul class="mt-2 text-gray-900 dark:text-gray-400 capitalize">
		<!-- Links -->

		<li
			class="mt-5 p-3 {segment === undefined ? 'text-red-600 bg-red-200' : 'hover:text-red-600 hover:bg-red-200'}
			rounded-lg">

			<a href="profile/">

				<svg class="fill-current h-5 w-5" viewBox="0 0 24 24">
					<path
						d="M19 5v2h-4V5h4M9 5v6H5V5h4m10 8v6h-4v-6h4M9
						17v2H5v-2h4M21 3h-8v6h8V3M11 3H3v10h8V3m10
						8h-8v10h8V11m-10 4H3v6h8v-6z"></path>
				</svg>

			</a>

		</li>

		<li class="mt-5 p-3 hover:text-red-600 hover:bg-red-200 rounded-lg">

			<a
				href="https://ethiopia-identity-provider.herokuapp.com/o/authorized_tokens/"
				target="blank">
				<svg class="fill-current h-5 w-5" viewBox="0 0 640 512">
					<path
						fill="currentColor"
						d="M96 224c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64
						64 28.7 64 64 64zm448 0c35.3 0 64-28.7
						64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm32
						32h-64c-17.6 0-33.5 7.1-45.1 18.6 40.3 22.1 68.9 62 75.1
						109.4h66c17.7 0 32-14.3
						32-32v-32c0-35.3-28.7-64-64-64zm-256 0c61.9 0 112-50.1
						112-112S381.9 32 320 32 208 82.1 208 144s50.1 112 112
						112zm76.8 32h-8.3c-20.8 10-43.9 16-68.5
						16s-47.6-6-68.5-16h-8.3C179.6 288 128 339.6 128
						403.2V432c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5
						48-48v-28.8c0-63.6-51.6-115.2-115.2-115.2zm-223.7-13.4C161.5
						263.1 145.6 256 128 256H64c-35.3 0-64 28.7-64 64v32c0
						17.7 14.3 32 32 32h65.9c6.3-47.4 34.9-87.3 75.2-109.4z"></path>
				</svg>

			</a>

		</li>

		<li
			class="mt-5 p-3 {segment === 'new-bussiness' ? 'text-red-600 bg-red-200' : 'hover:text-red-600 hover:bg-red-200'}
			rounded-lg">

			<a href="profile/new-bussiness/">
				<svg class="fill-current h-5 w-5" viewBox="0 0 480.08177 480">
					<path
						d="m479.199219
						113.800781c-1.652344-6.144531-5.683594-11.382812-11.199219-14.558593-5.519531-3.191407-12.082031-4.054688-18.238281-2.402344-6.148438
						1.65625-11.386719 5.683594-14.5625 11.199218l-4
						6.960938c-3.800781-2.183594-8.65625-.898438-10.878907
						2.882812l-20.320312
						34.636719-6.960938-4c-1.84375-1.066406-4.039062-1.355469-6.09375-.800781-2.058593.558594-3.808593
						1.910156-4.867187 3.761719-2.167969 3.824219-.847656
						8.683593 2.960937 10.878906l6.960938 4-68
						117.839844-16.800781 44.882812-8 14.957031c-4.683594
						8.148438-4.183594 18.277344 1.28125 25.921876l-18
						22.078124-5.039063-12.636718c-2.273437-5.632813-7.535156-9.492188-13.585937-9.964844-6.054688-.476562-11.855469
						2.515625-14.976563 7.722656l-2.878906
						4.878906-2.71875-32c-.625-7.570312-6.488281-13.65625-14.027344-14.570312-7.542968-.910156-14.683594
						3.609375-17.09375 10.8125l-19.679687 59.039062c-1.375
						4.175782.875 8.675782 5.039062 10.082032.78125.363281
						1.621094.582031 2.480469.636718 3.4375.011719
						6.5-2.179687 7.601562-5.4375l19.597657-59.039062 2.800781
						32.476562c.578125 6.929688 5.558594 12.691407 12.332031
						14.261719 6.773438 1.570313 13.78125-1.414062
						17.347657-7.378906l2.960937-4.882813 4.960937
						12.5625c2.105469 5.292969 6.867188 9.070313 12.503907
						9.910157 5.636719.839843 11.292969-1.382813
						14.855469-5.832031l18.640624-23.597657c2.0625.539063
						4.1875.808594 6.320313.800781 8.574219.066407
						16.535156-4.449218 20.878906-11.84375l8-13.359374
						30.480469-37.039063 68.71875-119.28125 6.960938
						4c1.855468 1.0625 3.207031 2.816406 3.757812
						4.882813.554688 2.050781.265625 4.238281-.796875
						6.078124l-32 55.441407c-1.207031 1.820312-1.617187
						4.054687-1.132813 6.1875.484376 2.128906 1.816407 3.96875
						3.691407 5.089843 1.84375 1.070313 4.039062 1.359376
						6.09375.804688 2.058593-.558594 3.808593-1.910156
						4.867187-3.761719l32-55.441406c3.191406-5.519531
						4.054688-12.082031
						2.398438-18.238281-1.65625-6.148438-5.683594-11.386719-11.199219-14.5625l-6.960937-4
						20-34.640625c2.183593-3.800781.898437-8.652344-2.878907-10.878907l4-6.960937c3.277344-5.605469
						4.144531-12.300781 2.398438-18.558594zm-30.160157
						2.238281c1.058594-1.851562 2.816407-3.207031
						4.882813-3.757812 2.054687-.507812 4.226563-.222656
						6.078125.800781 1.855469 1.058594 3.207031 2.816407
						3.761719 4.878907.507812 2.054687.222656 4.226562-.800781
						6.078124l-4 6.960938-13.921876-8zm-109.039062
						223.363282-4-2.320313-11.839844-6.882812
						11.359375-30.398438 25.199219 14.558594zm-24
						23.117187c-3.378906-2.355469-4.417969-6.886719-2.398438-10.480469l4-6.957031
						13.917969 8-4 6.878907c-1.121093 1.945312-3.003906
						3.328124-5.195312
						3.816406-2.191407.484375-4.484375.03125-6.324219-1.257813zm53.839844-61.277343-27.679688-16
						64-110.882813 27.679688 16zm72-124.722657-27.679688-16
						16-27.679687 27.679688 16zm0 0"></path>
					<path
						d="m126.238281 358.519531-28.316406
						28.242188-16.960937-16.960938c-3.121094-3.101562-8.160157-3.101562-11.28125
						0-1.515626 1.503907-2.367188 3.546875-2.367188 5.679688 0
						2.132812.851562 4.179687 2.367188 5.679687l16.960937
						16.960938c3 2.976562 7.054687 4.644531 11.28125 4.640625
						4.25.023437 8.339844-1.644531
						11.359375-4.640625l28.238281-28.320313c2.71875-3.175781
						2.535157-7.90625-.417969-10.859375-2.957031-2.957031-7.6875-3.140625-10.863281-.421875zm0
						0"></path>
					<path
						d="m32 380.039062c0 37.558594 30.445312 68 68
						68s68-30.441406 68-68c0-4.417968-3.582031-8-8-8s-8
						3.582032-8 8c0 28.71875-23.28125 52-52
						52s-52-23.28125-52-52 23.28125-52 52-52c11.257812-.03125
						22.214844 3.621094 31.199219 10.402344 3.535156 2.652344
						8.550781 1.933594 11.199219-1.601562 2.652343-3.535156
						1.9375-8.546875-1.597657-11.199219-20.605469-15.453125-48.175781-17.9375-71.210937-6.421875-23.039063
						11.519531-37.589844 35.066406-37.589844 60.820312zm0 0"></path>
					<path
						d="m288 64.039062c4.417969 0 8-3.578124 8-8
						0-4.417968-3.582031-8-8-8h-208c-4.417969 0-8 3.582032-8
						8v32c0 4.421876 3.582031 8 8 8h208c4.417969 0 8-3.578124
						8-8 0-4.417968-3.582031-8-8-8h-200v-16zm0 0"></path>
					<path
						d="m104 112.039062c-4.417969 0-8 3.582032-8 8 0 4.421876
						3.582031 8 8 8h160c4.417969 0 8-3.578124 8-8
						0-4.417968-3.582031-8-8-8zm0 0"></path>
					<path
						d="m312 168.039062h-176c-4.417969 0-8 3.582032-8 8 0
						4.421876 3.582031 8 8 8h176c4.417969 0 8-3.578124 8-8
						0-4.417968-3.582031-8-8-8zm0 0"></path>
					<path
						d="m232
						224.039062c0-4.417968-3.582031-8-8-8h-160c-4.417969 0-8
						3.582032-8 8 0 4.421876 3.582031 8 8 8h160c4.417969 0
						8-3.578124 8-8zm0 0"></path>
					<path
						d="m312 216.039062h-56c-4.417969 0-8 3.582032-8 8 0
						4.421876 3.582031 8 8 8h56c4.417969 0 8-3.578124 8-8
						0-4.417968-3.582031-8-8-8zm0 0"></path>
					<path
						d="m144 272.039062c4.417969 0 8-3.578124 8-8
						0-4.417968-3.582031-8-8-8h-80c-4.417969 0-8 3.582032-8 8
						0 4.421876 3.582031 8 8 8zm0 0"></path>
					<path
						d="m176 272.039062h56c4.417969 0 8-3.578124 8-8
						0-4.417968-3.582031-8-8-8h-56c-4.417969 0-8 3.582032-8 8
						0 4.421876 3.582031 8 8 8zm0 0"></path>
					<path
						d="m360 368.039062c-4.417969 0-8 3.582032-8 8v80c0
						4.421876-3.582031 8-8 8h-320c-4.417969
						0-8-3.578124-8-8v-432c0-4.417968 3.582031-8
						8-8h320c4.417969 0 8 3.582032 8 8v150.242188c0 4.417969
						3.582031 8 8 8s8-3.582031
						8-8v-150.242188c0-13.253906-10.746094-23.9999995-24-23.9999995h-320c-13.253906
						0-24 10.7460935-24 23.9999995v432c0 13.257813 10.746094
						24 24 24h320c13.253906 0 24-10.742187
						24-24v-80c0-4.417968-3.582031-8-8-8zm0 0"></path>
				</svg>

			</a>

		</li>

		<li
			class="mt-5 p-3 {segment === 'change-password' ? 'text-red-600 bg-red-200' : 'hover:text-red-600 hover:bg-red-200'}
			rounded-lg">

			<a href="profile/change-password/">
				<svg
					class="fill-current h-5 w-5"
					viewBox="0 0 122.879 118.662"
					enable-background="new 0 0 122.879 118.662"
					xml:space="preserve">
					<g>
						<path
							fill-rule="evenodd"
							clip-rule="evenodd"
							d="M43.101,54.363h4.138v-8.738c0-4.714,1.93-8.999,5.034-12.105v-0.004
							c3.105-3.105,7.392-5.034,12.108-5.034c4.714,0,8.999,1.929,12.104,5.034l0.004,0.004c3.104,3.105,5.034,7.392,5.034,12.104v8.738
							l3.297,0.001c0.734,0,1.335,0.601,1.335,1.335v28.203c0,0.734-0.602,1.335-1.336,1.335H43.101c-0.734,0-1.336-0.602-1.336-1.335
							V55.698C41.765,54.964,42.366,54.363,43.101,54.363L43.101,54.363z
							M16.682,22.204c-1.781,2.207-3.426,4.551-5.061,7.457
							c-5.987,10.645-8.523,22.731-7.49,34.543c1.01,11.537,5.432,22.827,13.375,32.271c2.853,3.392,5.914,6.382,9.132,8.968
							c11.112,8.935,24.276,13.341,37.405,13.216c13.134-0.125,26.209-4.784,37.145-13.981c3.189-2.682,6.179-5.727,8.915-9.13
							c6.396-7.957,10.512-17.29,12.071-27.138c1.532-9.672,0.595-19.829-3.069-29.655c-3.487-9.355-8.814-17.685-15.775-24.206
							C96.695,8.333,88.593,3.755,79.196,1.483c-2.943-0.712-5.939-1.177-8.991-1.374c-3.062-0.197-6.193-0.131-9.401,0.224
							c-2.011,0.222-3.459,2.03-3.238,4.041c0.222,2.01,2.03,3.459,4.04,3.237c2.783-0.308,5.495-0.366,8.141-0.195
							c2.654,0.171,5.23,0.568,7.731,1.174c8.106,1.959,15.104,5.914,20.838,11.288c6.138,5.751,10.847,13.125,13.941,21.427
							c3.212,8.613,4.035,17.505,2.696,25.959c-1.36,8.589-4.957,16.739-10.553,23.699c-2.469,3.071-5.121,5.78-7.912,8.127
							c-9.591,8.067-21.031,12.153-32.502,12.263c-11.473,0.109-23.001-3.762-32.764-11.61c-2.895-2.328-5.621-4.983-8.129-7.966
							c-6.917-8.224-10.771-18.092-11.655-28.202c-0.908-10.375,1.317-20.988,6.572-30.331c1.586-2.82,3.211-5.071,5.013-7.241
							l0.533,14.696c0.071,2.018,1.765,3.596,3.782,3.524s3.596-1.765,3.524-3.782l-0.85-23.419c-0.071-2.019-1.765-3.596-3.782-3.525
							c-0.126,0.005-0.25,0.016-0.372,0.032v-0.003L3.157,16.715c-2.001,0.277-3.399,2.125-3.122,4.126
							c0.276,2.002,2.124,3.4,4.126,3.123L16.682,22.204L16.682,22.204L16.682,22.204z
							M53.899,54.363h20.963v-8.834
							c0-2.883-1.18-5.504-3.077-7.403l-0.002,0.001c-1.899-1.899-4.521-3.08-7.402-3.08c-2.883,0-5.504,1.18-7.404,3.078
							c-1.898,1.899-3.077,4.521-3.077,7.404V54.363L53.899,54.363L53.899,54.363z
							M64.465,69.795l2.116,9.764l-5.799,0.024l1.701-9.895
							c-1.584-0.509-2.733-1.993-2.733-3.747c0-2.171,1.76-3.931,3.932-3.931c2.17,0,3.931,1.76,3.931,3.931
							C67.612,67.845,66.261,69.433,64.465,69.795L64.465,69.795L64.465,69.795z"></path>
					</g>
				</svg>

			</a>

		</li>

	</ul>

	<div
		class="mt-auto flex items-center p-3 hover:text-red-600 hover:bg-red-200
		dark:text-gray-400 rounded-lg">
		<!-- important action -->

		<button on:click="{sign_out}">

			<svg
				class="fill-current h-5 w-5 {$_('direction') === 'ltr' ? '' : 'transform rotate-180'}"
				viewBox="0 0 24 24">
				<path
					d="M16 17v-3H9v-4h7V7l5 5-5 5M14 2a2 2 0 012
					2v2h-2V4H5v16h9v-2h2v2a2 2 0 01-2 2H5a2 2 0 01-2-2V4a2 2 0
					012-2h9z"></path>
			</svg>

		</button>

	</div>

</nav>
